前几天在公司里，捞了下2019年的应用系统漏洞数据出来分析分析，全年总共发现了上千个漏洞，解决率也算是到了95%左右，差不多算是可以交差了。



其实每年做工作总结的时候还是挺犯难的，如果漏洞数量同比增长过多，从安服质量上来说，整个服务团队是努了力的，是出了成绩了的，毕竟服务团队的重要任务就是发现系统潜在的漏洞，但是从公司角度来说，漏洞增长太多，说明前端的安全开发质量太差，老板们也会说是安全管理的不够好，感觉正反都是安全的锅。



2019数据上有一个指标：漏洞及时解决率。这个指标代表漏洞被提交，直到被修复的时长是不是在管理要求范围内的占比。所有的事情都应该有一个deadline，每一个漏洞也应该有deadline。



这个deadline多少合适？记得很早前看到过一个新闻，说微软漏洞的这个deadline是110天左右，是长是短？真不好说，因为每一个漏洞的deadline是不一样的。



那怎么设定这个deadline呢。最初的时候，我是用的两刀切法，也就是漏洞可以分为内网漏洞与互联网漏洞，内网漏洞30天，互联网漏洞7天。运营一段时间后发现这个指标数据惨不忍睹，因为每个系统的研发任务、研发人力、研发能力、影响面都不一样，最后导致漏洞及时解决率只有20%左右。
<div align=center>
<img alt="给甲方安全支个招，让烂系统漏洞解决起来那么难...-89ffb720.png" src="assets/给甲方安全支个招，让烂系统漏洞解决起来那么难...-89ffb720.png" width="" height="" >
</div>


这里就分享一下几个优化的方法（比较适用甲方安全管理同学们参考），目标就是提升漏洞的及时解决率与风险控制：



（1）设定灵活的deadline计算小模型：

给每一个厂家评定能力等级K，K值范围是[1,3]

给每一个系统的重要程度分级G，值的范围是[1,10]；

给每一个漏洞进行分级R，值的范围是[1,3];

给每一个系统的网络接入方式分类S，分为互联网与内网，值可取1或5；

那么提交漏洞（至少得有个漏洞管理支撑系统）的时候，系统自动计算出W值=K+G+R+S，再根据预设的W值划分等级范围来计算出相应漏洞的deadline值。比如：W<=4, Deadline=30天，...，18<W<=21，Deadline=3天。

这里要说明一下的就是这个K值必须每年进行更新一次，一要求厂家相对要比上一年要有提升，3-5年内要达到3这个水平，在这行里混总要讲究个进步啊。



（2）设定预警体系：那有了数据模型，就必须有机制来保证能够运转起来，让研发有压力来修复漏洞，在deadline前。这就得建立预警体系，每日通报给接口人，每周通报给项目经理，每月通报给老板们，压力是不是就传递出去了？另外很重要的一点是这些必须做成系统自动执行，让被通报的人觉得这不是你在找麻烦，而是系统自动出的数据与通报。



（3）出现例外怎么办？也经常有漏洞修改需要调整框架，周期难免会超时，那怎么办，我的原则是漏洞没有修复前，对于影响特别大的必须有临时的监测与响应机制。构建一个策略，不论是IP归属、操作频度、攻击特征还是日志审计，都要有相应的人去跟踪，直至修复完成后的三天，防止有修复不完整的情况发生。



（4）建立常规漏洞的修复、监测与响应方法知识库，厂家的人员流动性很大的，一个知识库能让你省下很多时间去解释。方法不在多，因为毕竟出现的漏洞占比最多就是那么一些。



（5）找到属于自己的尚方宝剑，有的时候招不好用了，就得找一个尚方宝剑出来镇镇场子，一般来说就是考核啊，公司KPI考核有木有，与工资职级挂钩有木有，公司领导要开会问责了有木有？找一把，必要的时候用起来，但尽量少用。



以上或多或少有点用，嗯。

<div align=center>
                      <center>【欢迎关注微信公众号：子弹安全】</center>
<img  alt="数据保护-6b78141c.png" src="assets/数据保护-6b78141c.png" width="" height="" >
</div>
